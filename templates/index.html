<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hearo - Audio Analysis</title>
    <meta name="viewport" content="width = device-width, initial-scale=1">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script type="text/javascript">
        var res = null;
        res = {{ result | tojson }};
        var score = {{ score }}
    </script>

    <script src="{{ url_for('static', filename='js/displayAnalysis.js') }}"></script>

    <style>
        .tooltip-inner {
            background-color: #7a7a7a;
        }
    </style>

</head>


<body>

<header class="site-header">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand mr-4 font-weight-bold" href="/">hearo</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggle" aria-controls="navbarToggle" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarToggle">
                <div class="navbar-nav mr-auto">
                    <a class="nav-item nav-link" href="{{ url_for('live_text')}}">Live Feedback Tool</a>
                </div>
            </div>
        </div>
    </nav>
</header>
<br><br>

<div class="container" style="margin-top: 1rem;">
    <div class="row">
        <div class="col-md-12">
            <form id="audioForm" method=post enctype=multipart/form-data style="margin-top: 30px">
                <div class="row">
                    <div class="col-md-3 offset-md-1" style="padding-left: 10px; padding-right: -5px">
                        <label for="fileUpload" style="text-align: right; font-size: 25px; width: 100%;">Upload
                            Audio:</label>
                    </div>
                    <div class="col-md-4" style="padding-left: 20px">
                        <input type="file" name="file" id="fileUpload" multiple class="btn btn-outline-secondary">
                    </div>
                    <div class="col-md-3" style="padding-top: 3px; padding-left: 10px">
                        <input id="audioSubmit" type=submit value="Submit" class="btn btn-primary">
                    </div>
                </div>

            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12" style="font-size: 14px;">
            <h3 id="score" style="text-align:center; margin-top: 2rem; display:none"></h3>
        </div>
    </div>
    <div class="row" style="margin-top: 1rem;">
        <div class="col-md-6" style="font-size: 14px;">
            <div class="card" style="min-height: 26rem;">
                <h4 class="card-header" style="text-align: center; font-family:'Century Gothic Pro',serif;">Textual
                    Sentiment Analysis</h4>
                <div class="card-body">
                    <p class="card-text" id="textAnalysis"></p>
                </div>
            </div>
        </div>
        <div class="col-md-6" style="font-size: 14px;">
            <div class="card" style="min-height: 26rem;">
                <h4 class="card-header" style="text-align: center; font-family:'Century Gothic Pro',serif;">Audio
                    Emotion Analysis</h4>
                <div class="card-body">
                    <p class="card-text" id="audioAnalysis"></p>
                </div>
            </div>
        </div>

    </div>
    <div class="container" style="position: fixed; bottom: 0;">
        <div class="row">
            <div class="col-md-12">
                <h3 style="text-align: center;">How it Works</h3>
                <small>First, we convert your audio file into a set of spoken sentences. Then, we run textual
                    sentiment analysis on these sentences to determine textual emotion behind each sentence.
                    Finally, we do sentiment analysis using just your voice in the audio file. We score you in two
                    ways: percentage of sentences for which your voice emotion matches the text emotion, and also a
                    proprietary score that measures how close your emotions were to the text's emotions. This
                    proprietary score is out of 10,000 with 10,000 being perfectly matching. Good luck practicing!
                </small>
                <br></br>
            </div>
        </div>
    </div>
</div>
</body>

</html>